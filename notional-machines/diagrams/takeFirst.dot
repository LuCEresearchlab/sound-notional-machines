digraph takeFirst {
  pad="0,0"
  margin="0,0"
  subgraph cluster0 {
    margin="5,5"
    color="#c0c0c0"
    label="Step 0\n(λx.λy. x) a b"
    s0appb [label="<h0>|<h1>",shape=record]
    s0appa [label="<h0>|<h1>",shape=record,style=filled,fillcolor="#d0d0d0"]
    s0absx [label="λ|x|<h0>",shape=record,style=filled,fillcolor="#d0d0d0"]
    s0absy [label="λ|y|<h0>",shape=record]
    s0varx [label="x",shape=record]
    s0vara [label="a",shape=record]
    s0varb [label="b",shape=record]
    s0appb:h0 -> s0appa
    s0appa:h0 -> s0absx
    s0appa:h1 -> s0vara
    s0absx:h0 -> s0absy
    s0absy:h0 -> s0varx
    s0appb:h1 -> s0varb
  }
  subgraph cluster1 {
    margin="5,5"
    color="#c0c0c0"
    label="Step 1\n(λy. a) b"
    s1appb [label="<h0>|<h1>",shape=record,style=filled,fillcolor="#d0d0d0"]
    s1absy [label="λ|y|<h0>",shape=record,style=filled,fillcolor="#d0d0d0"]
    s1vara [label="a",shape=record]
    s1varb [label="b",shape=record]
    s1appb:h0 -> s1absy
    s1absy:h0 -> s1vara
    s1appb:h1 -> s1varb
  }
  subgraph cluster2 {
    margin="5,5"
    color="#c0c0c0"
    label="Step 2\na"
    s2vara [label="a",shape=record]
  }
}

